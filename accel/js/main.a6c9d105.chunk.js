(this.webpackJsonpduck=this.webpackJsonpduck||[]).push([[0],{12:function(e,t,c){},13:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(7),s=c.n(r),i=(c(12),c(3)),o=c(2),l=(c(13),c(4)),f=c(0),j=function(e){var t,c=e.x,a=e.y,n=(e.speed,e.angle);return Object(f.jsxs)("g",{transform:"translate (".concat(c," ").concat(a,") rotate(").concat(n," ",0," ",0,")"),children:[Object(f.jsx)("ellipse",(t={cy:0},Object(l.a)(t,"cy",0),Object(l.a)(t,"rx",15),Object(l.a)(t,"ry",20),Object(l.a)(t,"fill","grey"),t)),Object(f.jsx)("ellipse",{cx:0,cy:24,fill:"yellow",rx:7,ry:14}),Object(f.jsx)("circle",{cx:0,cy:16,fill:"green",r:"14"}),Object(f.jsx)("circle",{cx:-4,cy:19,fill:"#222",r:"3"}),Object(f.jsx)("circle",{cx:4,cy:19,fill:"#222",r:"3"})]})};var u=function(){var e={x:0,y:0},t=Object(a.useState)(0),c=Object(o.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)([{x:0,y:-600,target:e,speed:10}]),l=Object(o.a)(s,2),u=l[0],b=l[1],h=Object(a.useState)([{angle:.2-Math.PI/2,speed:200,r:0,age:0,label:Math.random().toString(36).substring(7)}]),x=Object(o.a)(h,2),y=x[0],d=x[1],O=Object(a.useState)(!1),g=Object(o.a)(O,2),p=g[0],v=g[1],M=Object(a.useState)(0),S=Object(o.a)(M,2),m=S[0],w=S[1],J=Object(a.useState)(0),N=Object(o.a)(J,2),I=N[0],k=N[1],P=function(t,c){k(I+1);var a,n=JSON.parse(JSON.stringify(y)),r=Object(i.a)(n);try{for(r.s();!(a=r.n()).done;){var s=a.value;s.x=s.r*Math.cos(s.angle),s.y=s.r*Math.sin(s.angle),s.r+=s.speed,s.speed=Math.max(0,.5*s.speed-1),s.age+=1}}catch(F){r.e(F)}finally{r.f()}n=n.filter((function(e){return e.age<=100})),d(n),p&&w(m+1);var o,l=JSON.parse(JSON.stringify(t)),f=Object(i.a)(l);try{for(f.s();!(o=f.n()).done;){var j,u=o.value,b=100,h=Object(i.a)(n);try{for(h.s();!(j=h.n()).done;){var x=j.value,O=u.x-x.x,g=u.y-x.y,v=Math.pow(Math.pow(O,2)+Math.pow(g,2),.5);v<b&&(b=v,u.target=x)}}catch(F){h.e(F)}finally{h.f()}}}catch(F){f.e(F)}finally{f.f()}if(I%4===0){I%20||(l=function(t){var c=Math.random()*Math.PI,a=JSON.parse(JSON.stringify(t));return a.push({x:700*Math.cos(c),y:700*Math.sin(c),target:e,speed:Math.floor(5+5*Math.random())}),a}(t));var M,S=Object(i.a)(l);try{for(S.s();!(M=S.n()).done;){var J=M.value,N=J.target.x-J.x,P=J.target.y-J.y,E=void 0;E=0===N?0:0===P?1:Math.abs(N)/(Math.abs(N)+Math.abs(P)),J.x+=Math.sign(N)*J.speed*E,J.y+=Math.sign(P)*J.speed*(1-E)}}catch(F){S.e(F)}finally{S.f()}c(l)}};Object(a.useEffect)((function(){var e=setInterval((function(){P(u,b)}),150);return function(){clearInterval(e)}}),[u,I,P]),Object(a.useEffect)((function(){window.addEventListener("deviceorientation",(function(e){r(e.alpha)})),r(0)}),[]);var E=function(e){var t=e.target.x-e.x,c=e.target.y-e.y;return 180/Math.PI*Math.atan2(c,t)};return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:Object(f.jsxs)("svg",{height:"700",viewBox:"-150 -700 300 700",width:"400",tabIndex:"0",onKeyDown:function(e){"a"===e.key&&r(n+4),"d"===e.key&&r(n-4)},onTouchStart:function(e){v(!0),w(0)},onTouchEnd:function(e){v(!1),null===n&&r(0),console.log("throw",m,n);var t=JSON.parse(JSON.stringify(y));t.push({angle:(270-n)*Math.PI/180,speed:20*m,r:0,age:0,label:Math.random().toString(36).substring(7)}),d(t)},style:{border:"solid 1px green"},children:[Object(f.jsx)("rect",{x:"90",y:"-690",height:"100",width:"100",style:{fill:"rgb(255 255 255)",fillOpacity:.2}}),Object(f.jsxs)("g",{transform:"rotate (".concat(n," ").concat(140+100*e.x/1400," ").concat(100*e.y/1400-640,")"),children:[u.map((function(e,t){return Object(f.jsx)("circle",{cx:140+100*e.x/1400,cy:100*e.y/1400-640,fill:"rgb(".concat(40*e.speed," ").concat(100-8*e.speed," ").concat(150-30*e.speed,")"),r:2e3/700},t)})),Object(f.jsx)("circle",{cx:140+100*e.x/1400,cy:100*e.y/1400-640,fill:"green",r:2e3/1400})]}),Object(f.jsxs)("g",{transform:"rotate (".concat(n," ").concat(e.x," ").concat(e.y,")"),children:[Object(f.jsx)("circle",{cx:e.x,cy:e.y,r:5,fill:"green"}),y.map((function(e,t){return Object(f.jsx)("circle",{cx:e.x,cy:e.y,r:"5",fill:"orange"},t)})),u.map((function(e,t){return Object(f.jsx)(j,{x:e.x,y:e.y,speed:e.speed,angle:270+E(e)+(Math.floor(I/4)%2?-5:5)},t)}))]})]})})})},b=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,16)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(u,{})}),document.getElementById("root")),b()}},[[15,1,2]]]);
//# sourceMappingURL=main.a6c9d105.chunk.js.map