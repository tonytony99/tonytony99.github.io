{"version":3,"sources":["Home.js","Player.js","PlayerList.js","QuitButton.js","Lobby.js","Card.js","Board.js","Rule.js","Game.js","Wakeup.js","Cookies.js","CookieModal.js","QuitModal.js","TermsModal.js","App.js","serviceWorker.js","index.js"],"names":["Home","props","Container","style","height","Row","Col","md","lg","xl","sm","fontWeight","paddingTop","paddingBottom","xs","Form","noValidate","onSubmit","submitHandler","Group","controlId","prefix","Label","Control","placeholder","name","value","onChange","changeHandler","maxLength","required","Text","className","errors","label","map","option","Check","type","id","key","checked","join_or_create","display","code","Button","variant","disabled","submitDisabled","border","backgroundColor","color","onClick","showTerms","submit","Player","player","is_me","Badge","pill","is_leader","title","is_paused","is_next","PlayerList","players","index","nextPosition","me_index","QuitButton","marginBottom","quitClickHandler","Lobby","textAlign","game","fontSize","beginClickHandler","width","cx","cy","r","stroke","strokeWidth","strokeDasharray","strokeLinecap","fill","paddingLeft","position","Card","onClickHandler","card","x","left_x","y","top_y","rx","cornerRadius","ry","faceUp","Math","floor","fontFamily","Board","centre","sideLength","transform","patternUnits","angles","angle","picks","includes","onCardClickHandler","cardWidth","sidePadding","cardHeight","cardCornerRadius","latest_card_deck_index","Rule","seeingDuck","rule","padding","Game","card_index","borderRadius","radius","cardPickHandler","latest_position","next_position","pauseClickHandler","lobbyClickHandler","restartClickHandler","Wakeup","Modal","show","isAsleep","onHide","wakeupClickHandler","animation","Header","closeButton","Title","Body","waitTime","Footer","setCookie","cname","cvalue","exminutes","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","ca","split","i","length","c","charAt","substring","indexOf","deleteCookie","path","domain","CookieModal","acceptedCookies","console","log","href","target","acceptClickHandler","QuitModal","isQuitting","cancelHandler","quitHandler","TermsModal","hideTerms","App","event","nam","val","setState","homeSubmitHandler","preventDefault","home_errors","state","is_valid","home_input_name","home_input_join_or_create","home_input_code","home_input_submit_disabled","createGame","catch","error","joinGame","message","apiUrl","input_join_or_create","poll_game","cardPicked","create_game","join_game","pollingAsleep","this","pollingId","setInterval","PollGame","playerId","playerPosition","gameId","getGame","then","updated_at","undefined","clearInterval","endpoint","fetch","response","status","Error","data","method","headers","body","JSON","stringify","sendData","postGameResponse","json","game_id","postPlayerResponse","getData","getGameResponse","patchGameResponse","player_id","patchPlayerResponse","postGame","newGame","postPlayer","newPlayer","updatedGame","updateLastEvent","lastEvent","pollResponse","pollData","last_updated","random","is_in_lobby","patchData","patchGame","restart","patchPlayer","updatedPlayer","bind","acceptCookies","gameStateChangeClickHandler","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a6368466.chunk.js","sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nconst Home = (props) => {\n    return (\n        <Container style={{ height: '100vh' }}>\n\n            <Row>\n                <Col md={2} lg={3} xl={4}></Col>\n                <Col sm={12} md={8} lg={6} xl={4}>\n                    <h1 style={{ fontWeight: 900, paddingTop: '12vmin', paddingBottom: '0' }}>Ring of Cards</h1>\n                </Col>\n                <Col md={2} lg={3} xl={4}></Col>\n            </Row>\n\n            <Row>\n                <Col xs={2} md={2} lg={3} xl={4}></Col>\n                <Col xs={8} sm={10} md={8} lg={6} xl={4}>\n                    <Form noValidate onSubmit={props.submitHandler}>\n                        <Form.Group controlId={props.prefix + 'name'} style={{ paddingTop: '8vh' }}>\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control\n                                placeholder='Pick a name'\n                                name={props.prefix + 'name'}\n                                value={props.name}\n                                onChange={props.changeHandler}\n                                maxLength='16'\n                                required\n                            />\n                            <Form.Text className=\"error\">\n                                {props.errors.name}\n                            </Form.Text>\n                        </Form.Group>\n                        <Form.Group controlId='formType' style={{ paddingTop: '1vh' }}>\n                            {\n                                [{ value: 'Join', label: 'Join a game' }, { value: 'Create', label: 'Create a new game' }].map((option) => {\n                                    return <Form.Check\n                                        type='radio'\n                                        id={'radio-' + option.value}\n                                        key={option.value}\n                                        label={option.label}\n                                        value={option.value}\n                                        checked={props.join_or_create === option.value}\n                                        name={props.prefix + 'join_or_create'}\n                                        onChange={props.changeHandler}\n                                    />\n                                })\n                            }\n                            <Form.Text className=\"error\">\n                                {props.errors.join_or_create}\n                            </Form.Text>\n                        </Form.Group>\n                        <Form.Group\n                            controlId={props.prefix + 'code'}\n                            style={{\n                                paddingTop: '1vh',\n                                display: props.join_or_create === 'Join' ? 'block' : 'none'\n                            }}\n                        >\n                            <Form.Label>Game code</Form.Label>\n                            <Form.Control\n                                placeholder='8 characters'\n                                name={props.prefix + 'code'}\n                                value={props.code}\n                                onChange={props.changeHandler}\n                                maxLength='36'\n                            />\n                            <Form.Text className=\"error\">\n                                {props.errors.code}\n                            </Form.Text>\n                        </Form.Group>\n                        <Form.Group controlId='formSubmit' style={{ paddingTop: '1vh' }}>\n                            <Button variant='success' type='submit' disabled={props.submitDisabled}>\n                                {props.join_or_create}\n                            </Button>\n                            <Form.Text>\n                                By playing you agree to the\n                                <button style={{ border: 'none', backgroundColor: 'rgba(0,0,0,0)', color:'#57f' }} onClick={props.showTerms}>\n                                    terms\n                                </button>.\n                            </Form.Text>\n                            <Form.Text className=\"error\">\n                                {props.errors.submit}\n                            </Form.Text>\n                        </Form.Group>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default Home;","import React from 'react';\nimport Badge from 'react-bootstrap/Badge';\n\nconst Player = (props) => {\n    return (\n        <li>\n            {props.player.name}\n            {props.player.is_me ?\n                <span className=\"badgeContainer\">\n                    <Badge pill variant=\"warning\" >\n                        me\n                </Badge>\n                </span> : null}\n            {props.player.is_leader ?\n                <span className=\"badgeContainer\">\n                    <Badge pill variant=\"secondary\" title=\"Hosts can restart games, open lobbies, and pause players\">\n                        host\n                </Badge>\n                </span> : null}\n            {props.player.is_paused ?\n                <span className=\"badgeContainer\">\n                    <Badge pill variant=\"secondary\" title=\"While paused, this players turns are skipped\">\n                        paused\n                </Badge>\n                </span> : null}\n            {props.player.is_next ?\n                <span className=\"badgeContainer\">\n                    <Badge pill variant=\"success\" >\n                        picking\n                </Badge>\n                </span> : null}\n        </li>\n    )\n\n}\n\nexport default Player;","import React from 'react';\nimport Player from './Player';\n\nconst PlayerList = (props) => {\n    return (\n        <ol className=\"PlayerList\">\n            {props.players.map((player, index) => <Player key={index} player={{...player, is_next: index === props.nextPosition, is_me: index === props.me_index}} />)}\n        </ol>\n    )\n\n}\n\nexport default PlayerList;","import React from 'react';\nimport Button from 'react-bootstrap/Button';\n\nconst QuitButton = (props) => {\n    return (\n        <div style={{ marginBottom: \"8px\" }}>\n            <Button variant=\"danger\" onClick={props.quitClickHandler}>\n                Quit\n            </Button>\n        </div>\n    )\n}\n\nexport default QuitButton;","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport PlayerList from './PlayerList';\nimport QuitButton from './QuitButton';\n\nconst Lobby = (props) => {\n    return (\n        <Container style={{ height: \"100vh\" }}>\n            <Row>\n                <Col md={2} lg={3} xl={4}></Col>\n                <Col sm={12} md={8} lg={6} xl={4}>\n                    <h1 style={{ fontWeight: 900, paddingTop: \"3vmin\", paddingBottom: \"3vmin\" }}>Lobby</h1>\n                </Col>\n            </Row>\n            <Row>\n                <Col md={2} lg={3} xl={4}></Col>\n                <Col sm={12} md={8} lg={6} xl={4}>\n                    <small style={{ textAlign: \"left\", marginBottom: \"0\", paddingBottom: \"0\" }}>{props.game.id}</small>\n                    <p style={{ color: \"#ccc\", fontSize: \"smaller\" }}>Share this code to invite friends</p>\n                </Col>\n            </Row>\n\n            <Row>\n                <Col md={2} lg={3} xl={4}></Col>\n                <Col sm={12} md={8} lg={6} xl={4}>\n\n                    <QuitButton quitClickHandler={props.quitClickHandler} />\n\n                    {\n                        props.player.is_leader ?\n\n                            <Form.Group controlId=\"formSubmit\">\n                                <Button variant=\"success\" type=\"submit\" onClick={props.beginClickHandler}>\n                                    Go to game\n                        </Button>\n                                <p style={{ color: \"#ccc\", fontSize: \"smaller\" }}>Only the host (you) can see this button.</p>\n                            </Form.Group>\n                            :\n                            <h5>\n                                <span>\n                                    <svg className=\"spinner\" height=\"16\" width=\"16\">\n                                        <circle cx=\"8\" cy=\"8\" r=\"6\" stroke=\"#888\" strokeWidth=\"3\" strokeDasharray=\"20,12\" strokeLinecap=\"round\" fill=\"none\" />\n                                    </svg>\n                                </span>\n                                <span style={{paddingLeft: \"4px\"}}>Waiting for host to close the lobby</span>\n                           </h5>\n                    }\n                </Col>\n            </Row>\n\n\n            <Row>\n                <Col md={2} lg={3} xl={4}></Col>\n                <Col sm={12} md={8} lg={6} xl={4}>\n                    <h2 style={{ fontWeight: 900, paddingTop: \"3vmin\", marginBottom: \"0\", paddingBottom: \"0\" }}>Players</h2>\n                    <p style={{ color: \"#ccc\", fontSize: \"smaller\" }}>Lobby can be opened mid-game to let more players in.</p>\n                    <PlayerList players={props.game.players} me_index={props.player.position} />\n                </Col>\n            </Row>\n        </Container>\n\n    )\n}\n\nexport default Lobby;","import React from 'react';\n\nconst Card = (props) => {\n    return (\n        <g>\n            <rect\n                onClick={() => props.onClickHandler ? props.onClickHandler(props.card) : null}\n                x={props.left_x}\n                y={props.top_y}\n                width={props.width}\n                height={props.height}\n                rx={props.cornerRadius}\n                ry={props.cornerRadius}\n                style={{\n                    fill: props.fill, strokeWidth: 3, stroke: \"#eee\"\n                }} />\n            {\n\n                props.faceUp &&\n                <g fill={props.card < 26 ? \"#e34\" : \"#222\"}>\n                    <text x={props.left_x} y={props.top_y + props.height - 2} fontSize={props.height / 6}>\n                        {\n                            [\"♥\", \"♦\", \"♠\", \"♣\"][Math.floor(props.card / 13)]\n                        }\n                    </text>\n                    <text\n                        x={props.left_x + (props.card % 13 === 9 ? .03 : .19 ) * props.height}\n                        y={props.top_y + .65 * props.height}\n                        fontSize={.5 * props.height}\n                        fontWeight=\"900\"\n                        fontFamily=\"monospace\"\n                    >\n                        {['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'][props.card % 13]}\n                    </text>\n                </g>\n            }\n        </g>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\n\nconst Board = (props) => {\n    const centre = props.sideLength / 2;\n    return (\n        <svg height={props.sideLength} width={props.sideLength} className=\"board\">\n            <g transform=\"scale(1 1)\">\n                <defs>\n                    <pattern id=\"faceDown\" x=\"0\" y=\"0\" width=\"9\" height=\"9\" patternUnits=\"userSpaceOnUse\" >\n                        <rect x=\"0\" y=\"0\" height=\"9\" width=\"9\" fill=\"#227\" />\n                        <g transform=\"rotate(45, 5, 5)\">\n                            <rect x=\"2\" y=\"2\" height=\"5\" width=\"5\" fill=\"#bbb\" />\n                        </g>\n                    </pattern>\n                    <pattern id=\"faceUp\" x=\"0\" y=\"0\" width=\"10\" height=\"10\" patternUnits=\"userSpaceOnUse\" >\n                        <rect x=\"0\" y=\"0\" height=\"10\" width=\"10\" fill=\"#eee\" />\n                    </pattern>\n                </defs>\n                {\n                    props.game.angles.map((angle, index) => (\n                        <g key={index} transform={\"rotate(\" + angle + \", \" + centre + \",\" + centre + \")\"}>\n                            {\n                                (!props.game.picks.includes(index)) && <Card\n                                    onClickHandler={props.onCardClickHandler}\n                                    fill=\"url(#faceDown)\"\n                                    left_x={props.sideLength / 2 - props.cardWidth / 2}\n                                    top_y={props.sidePadding}\n                                    width={props.cardWidth}\n                                    height={props.cardHeight}\n                                    cornerRadius={props.cardCornerRadius}\n                                    faceUp={false}\n                                    card={index}\n                                />\n                            }\n                        </g>\n                    ))\n                }\n                <g className=\"latestCard\">\n                    {\n                        props.game.latest_card_deck_index !== null ?\n                            <Card\n                                fill=\"url(#faceUp)\"\n                                left_x={centre - props.cardWidth / 2}\n                                top_y={centre - props.cardHeight / 2}\n                                width={props.cardWidth}\n                                height={props.cardHeight}\n                                cornerRadius={props.cardCornerRadius}\n                                faceUp={true}\n                                card={+ props.game.latest_card_deck_index}\n                            />\n                            : null\n                    }\n\n                </g>\n            </g>\n        </svg>\n    )\n}\n\nexport default Board;","import React from 'react';\n\nconst Rule = (props) => {\n\n    const valueToRule = (value, name, seeingDuck) => {\n        return {\n            'Ace': { title: 'Waterfall', rule: 'Everyone begins drinking, you can stop when the person before you stops' },\n            'Two': { title: 'You', rule: `${name} chooses someone to drink` },\n            'Three': { title: 'Me', rule: `${name} takes a drink` },\n            'Four': { title: 'Señor', rule: 'Males drink' },\n            'Five': { title: 'Webcam Master', rule: `The next time ${name} covers their webcam, everyone else must too. Last one drinks` },\n            'Six': { title: 'Chicks', rule: 'Females drink' },\n            'Seven': { title: 'Heaven', rule: 'Last one pointing to the sky drinks' },\n            'Eight': { title: 'Mate', rule: `${name} picks someone who will drink every time they do` },\n            'Nine': { title: 'Rhyme', rule: `${name} picks a word, go round the circle saying a rhyme with it. First to fail drinks` },\n            'Ten': { title: 'Categories', rule: `${name} picks a category (e.g. counties), go round the circle giving examples of the category. First to fail drinks` },\n            'Jack': { title: 'Quack', rule: `Anyone who sees a duck at the end of this sentence, take a drink ${seeingDuck ? '🦆' : ''}` },\n            'Queen': { title: 'Question Master', rule: `${name} is now the question master. If they ask you a question, you must reply with a question or drink.` },\n            'King': { title: 'Sing', rule: `The group picks a song. ${name} can sing the chorus or take a drink` }\n        }[value]\n    }\n    const rule = valueToRule(props.value, props.name, props.seeingDuck);\n    return (\n        <div style={{ textAlign: \"center\", padding: \"4px\" }} >\n            <strong>{props.name} got a{['Ace', 'Eight'].includes(props.value) ? 'n' : ''} {props.value}</strong><br />\n            <strong>{props.value} is {rule.title} :</strong> {rule.rule}\n        </div>\n    )\n}\n\nexport default Rule;","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport PlayerList from './PlayerList';\nimport Board from './Board';\nimport Rule from './Rule';\nimport QuitButton from './QuitButton';\n\nconst Game = (props) => {\n    const indexToValue = (card_index) => {\n        return ['Ace', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight',\n            'Nine', 'Ten', 'Jack', 'Queen', 'King'][card_index % 13]\n    }\n\n    return (\n        <Container style={{ height: \"200vh\" }}>\n            <Row>\n                <Col className=\"d-none d-lg-block\" lg={12} xl={12}>\n                    <div style={{ height: \"10vh\" }}></div>\n                </Col>\n                <Col className=\"d-none d-md-block\" md={3} lg={2} xl={2}></Col>\n                <Col sm={12} md={6} lg={5} xl={5} style={{ border: \" solid 0px rgba(255,255,255,0.5)\" }}>\n                    <div style={{ textAlign: \"center\", borderRadius: \".25rem\", border: \" solid 2px rgba(255,255,255,0.0)\" }} >\n                        <Board\n                            game={props.game}\n                            sideLength={300}\n                            radius={100}\n                            sidePadding={20}\n                            cardWidth={50}\n                            cardHeight={70}\n                            cardCornerRadius={3}\n                            onCardClickHandler={props.cardPickHandler}\n                        />\n                        {\n                            (props.game.latest_position !== null) && <Rule\n                                name={props.game.players[props.game.latest_position].name}\n                                value={indexToValue(props.game.latest_card_deck_index)}\n                                seeingDuck={props.seeingDuck}\n                            />\n                        }\n                    </div>\n                </Col>\n                <Col md={3} lg={0} className=\"d-lg-none d-xl-none\" />\n                <Col md={3} lg={0} className=\"d-lg-none d-xl-none\" />\n                <Col sm={12} md={6} lg={5} xl={5} style={{ border: \" solid 0px rgba(0,0,0,0.5)\" }}>\n                    <div style={{ borderRadius: \".25rem\", border: \" solid 2px rgba(255,255,255,0.0)\" }} >\n                        <h4 style={{ fontWeight: 900, paddingTop: \"3vmin\", marginBottom: \"0\", paddingBottom: \"10px\" }}>Players</h4>\n                        <PlayerList players={props.game.players} nextPosition={props.game.next_position} me_index={props.player.position} />\n                        <br />\n                        <Button variant=\"secondary\" onClick={props.pauseClickHandler}>\n                            {props.player.is_paused ? 'Un-Pause' : 'Pause'} me\n                        </Button>\n                        <p style={{ color: \"#ccc\", fontSize: \"smaller\", marginBottom: \"8px\" }}>While paused, your turns are skipped</p>\n\n                        <QuitButton quitClickHandler={props.quitClickHandler} />\n\n                        {props.player.is_leader && <div style={{ border: \"solid 2px #888\", borderRadius: \"5px\", padding: \"5px\" }}>\n                            <h3>Host Options</h3>\n                            <Button variant=\"secondary\" onClick={props.lobbyClickHandler}>\n                                Go to lobby\n                            </Button>\n                            <p style={{ color: \"#ccc\", fontSize: \"smaller\" }}>In the lobby, more players can join</p>\n                            <Button variant=\"secondary\" onClick={props.restartClickHandler}>\n                                Restart\n                            </Button>\n                            <p style={{ color: \"#ccc\", fontSize: \"smaller\" }}>Put all the cards back</p>\n                        </div>\n                        }\n\n                    </div>\n                </Col>\n            </Row>\n        </Container >\n    )\n}\n\nexport default Game;","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nconst Wakeup = (props) => {\n    return (\n        <Modal show={props.isAsleep} onHide={props.wakeupClickHandler} animation={false}>\n            <Modal.Header closeButton>\n                <Modal.Title>Are you still there?</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                Nothings happened in the past {props.waitTime} so I stopped checking for updates.\n                Close this pop-up and I will start checking again.\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={props.wakeupClickHandler}>\n                    Close\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default Wakeup;","export const setCookie = (cname, cvalue, exminutes) => {\n    var d = new Date();\n    d.setTime(d.getTime() + (exminutes * 60 * 1000));\n    var expires = \"expires=\" + d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport const getCookie = (cname) => {\n    var name = cname + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) === ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) === 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\nexport const deleteCookie = (name, path, domain) => {\n    if (getCookie(name)) {\n        document.cookie = name + \"=\" +\n            ((path) ? \";path=\" + path : \"\") +\n            ((domain) ? \";domain=\" + domain : \"\") +\n            \";expires=Thu, 01 Jan 1970 00:00:01 GMT\";\n    }\n}","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nconst CookieModal = (props) => {\n    return (\n        <Modal show={! props.acceptedCookies} onHide={() => console.log(\"HIDDEN\")} animation={false}>\n            <Modal.Header>\n                <Modal.Title>Cookies</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                This site uses <a href=\"/cookies/\" target=\"_blank\">cookies</a> to work.\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"success\" onClick={props.acceptClickHandler}>\n                    Accept Cookies\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default CookieModal;","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nconst QuitModal = (props) => {\n    return (\n        <Modal show={props.isQuitting} onHide={props.cancelHandler} animation={false}>\n            <Modal.Header>\n                <Modal.Title>Quit?</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                You will be permanently paused in this game. You can return to it by joining again.\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"danger\" onClick={props.quitHandler}>\n                    Quit\n                </Button>\n                <Button variant=\"success\" onClick={props.cancelHandler}>\n                    Stay\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default QuitModal;","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nconst TermsModal = (props) => {\n    return (\n        <Modal show={props.showTerms} onHide={props.hideTerms} animation={false}>\n            <Modal.Header>\n                <Modal.Title>Terms</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <h3>Privacy Policy</h3>\n                <p>The name you submit and involvement in games is stored.</p>\n                <h3>Cookie Policy</h3>\n                <p>Cookies are used for the site to function.</p>\n                <p>Cookies are used to measure, for example, how many games are played at a time.</p>\n                <p>By using the site you agree to use of all such cookies.</p>\n                <h3>Terms</h3>\n                <p>This site is currently available to use for free and comes with no warranty.</p>\n                <p>The owner of this site shall not be liable for any damages to property or losses caused by using this site</p>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"success\" onClick={props.hideTerms}>\n                    OK\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default TermsModal;","import React, { Component } from 'react';\nimport './App.css';\nimport Home from './Home';\nimport Lobby from './Lobby';\nimport Game from './Game';\nimport Wakeup from './Wakeup';\nimport { getCookie, setCookie, deleteCookie } from './Cookies';\nimport CookieModal from './CookieModal';\nimport QuitModal from './QuitModal';\nimport TermsModal from './TermsModal';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // apiUrl: 'http://192.168.1.168:8000/',\n      apiUrl: 'https://immense-retreat-33385.herokuapp.com/',\n      home_input_name: 'Thomas',\n      home_input_code: 'cd9fc042-c381-4a3f-9cbe-827afe0fc162',\n      home_input_join_or_create: 'Join',\n      home_input_submit_disabled: false,\n      home_errors: {\n        name: '',\n        code: '',\n        input_join_or_create: '',\n        submit: '',\n        joinGame: '',\n        poll_game: ''\n      },\n      cardPicked: 0,\n      seeingDuck: true,\n      errors: {\n        create_game: '',\n        join_game: ''\n      },\n      acceptedCookies: true,\n      pollingAsleep: false,\n      isQuitting: false,\n      showTerms: false,\n      // game: {\n      //   \"id\": \"ac261320-7f95-425b-91c3-eaea71de6f80\",\n      //   \"created_at\": 1589212991.878647,\n      //   \"last_updated\": 1589213091.779586,\n      //   \"is_in_lobby\": true,\n      //   \"latest_card_deck_index\": 7,\n      //   \"latest_position\": null,\n      //   \"next_position\": 1,\n      //   \"players\": [\n      //     {\n      //       \"name\": \"Iamsixteenletter\",\n      //       \"is_leader\": true,\n      //       \"is_paused\": true\n      //     },\n      //     {\n      //       \"name\": \"mike\",\n      //       \"is_leader\": false,\n      //       \"is_paused\": false\n      //     },\n      //     {\n      //       \"name\": \"sammy\",\n      //       \"is_leader\": false,\n      //       \"is_paused\": false\n      //     },\n      //     {\n      //       \"name\": \"sammy\",\n      //       \"is_leader\": false,\n      //       \"is_paused\": true\n      //     }\n      //   ],\n      //   \"angles\": [\n      //     16,\n      //     234,\n      //     248,\n      //     62,\n      //     279,\n      //     212,\n      //     190,\n      //     242,\n      //     123,\n      //     98,\n      //     110,\n      //     251,\n      //     323,\n      //     127,\n      //     181,\n      //     316,\n      //     57,\n      //     30,\n      //     300,\n      //     321,\n      //     318,\n      //     179,\n      //     92,\n      //     259,\n      //     317,\n      //     206,\n      //     88,\n      //     160,\n      //     210,\n      //     285,\n      //     354,\n      //     318,\n      //     120,\n      //     300,\n      //     97,\n      //     326,\n      //     98,\n      //     350,\n      //     22,\n      //     105,\n      //     195,\n      //     268,\n      //     93,\n      //     356,\n      //     213,\n      //     5,\n      //     316,\n      //     142,\n      //     241,\n      //     253,\n      //     209,\n      //     318\n      //   ],\n      //   \"picks\": []\n      // },\n      player: {\n        \"id\": \"829cc7da-b6a4-4e00-bcc0-60227c424c16\",\n        \"updated_at\": \"2020-05-11T17:35:36.732586+01:00\",\n        \"name\": \"Thomas\",\n        \"position\": 4,\n        \"is_leader\": false,\n        \"is_paused\": false\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.pollingId = setInterval(() => this.PollGame(), 3000);\n    const acceptedCookies = getCookie('accepted');\n    if (acceptedCookies === '') {\n      this.setState({ acceptedCookies: false })\n    }\n    const playerId = getCookie('playerId');\n    const playerPosition = getCookie('playerPosition');\n    const gameId = getCookie('gameId');\n    console.log(\"Cookies\");\n    console.log(playerId);\n    console.log(playerPosition);\n    console.log(gameId);\n    if (playerId !== '' && gameId !== '' && playerPosition !== '') {\n      this.getGame(gameId)\n        .then(game => {\n          this.setState({ game: game });\n          return game.players[+playerPosition]\n        })\n        .then(player =>\n          this.setState({\n            player: {\n              id: playerId,\n              is_leader: player.is_leader,\n              is_paused: player.is_paused,\n              name: player.name,\n              updated_at: new Date(),\n              position: +playerPosition\n            }\n          }))\n\n        .catch(error => {\n          console.log(\"Restore from cookies failed\");\n          this.setState({ game: undefined, player: undefined })\n        })\n    }\n  }\n  // console.log(\"cookies: \", playerId, gameId);\n  // setInterval(() => {const game = this.state.game; game.latest_card_deck_index = (game.latest_card_deck_index + 1) % 52; this.setState({game: game})}, 1500);\n  // }  \n\n  componentWillUnmount() {\n    clearInterval(this.pollingId);\n  }\n\n  async getData(endpoint) {\n    const response = await fetch(this.state.apiUrl + endpoint)\n      .then(response => {\n        if (response.status !== 200) throw new Error(response.status);\n        return response\n      });\n    return response\n  }\n\n  async sendData(endpoint, data, method = 'POST') {\n    const response = await fetch(this.state.apiUrl + endpoint, {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => {\n      if (![200, 201].includes(response.status)) throw new Error(response.status);\n      return response\n    });\n    return response\n  }\n\n  async postGameResponse() {\n    const response = await this.sendData(\"games/\", {});\n    return response\n  }\n\n  async postGame() {\n    const response = await this.postGameResponse();\n    const game = await response.json();\n    return game\n  }\n\n  async postPlayerResponse(name, game_id) {\n    const response = await this.sendData(\"players/\", {\n      name: name,\n      game: game_id\n    });\n    return response\n  }\n\n  async postPlayer(name, game_id) {\n    const response = await this.postPlayerResponse(name, game_id);\n    if (response.status !== 201) return null\n    const player = await response.json();\n    return player\n  }\n\n  async getGameResponse(game_id) {\n    const response = await this.getData(`games/${game_id}/`);\n    return response\n  }\n\n  async getGame(game_id) {\n    const response = await this.getGameResponse(game_id);\n    const game = await response.json();\n    return game\n  }\n\n  async patchGameResponse(game_id, data) {\n    const response = await this.sendData(`games/${game_id}/`, data, 'PATCH');\n    return response\n  }\n\n  async patchGame(game_id, data) {\n    try {\n      const response = await this.patchGameResponse(game_id, data);\n      const game = await response.json();\n      return game\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async patchPlayerResponse(player_id, data) {\n    const response = await this.sendData(`players/${player_id}/`, data, 'PATCH');\n    return response\n  }\n\n  async patchPlayer(player_id, data) {\n    const response = await this.patchPlayerResponse(player_id, data);\n    const player = await response.json();\n    return player\n  }\n\n  async createGame() {\n    try {\n      const newGame = await this.postGame();\n      const newPlayer = await this.postPlayer(this.state.home_input_name, newGame.id);\n      const updatedGame = await this.getGame(newGame.id);\n      this.setState({ game: updatedGame, player: newPlayer });\n      this.updateLastEvent();\n      setCookie('gameId', updatedGame.id, 8);\n      setCookie('playerId', newPlayer.id, 8);\n      setCookie('playerPosition', newPlayer.position, 8);\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async joinGame() {\n    const newPlayer = await this.postPlayer(this.state.home_input_name, this.state.home_input_code);\n    if (newPlayer === null) return 'error'\n    const updatedGame = await this.getGame(this.state.home_input_code);\n    this.setState({ game: updatedGame, player: newPlayer });\n    this.updateLastEvent();\n    setCookie('gameId', updatedGame.id, 8);\n    setCookie('playerId', newPlayer.id, 8);\n    setCookie('playerPosition', newPlayer.position, 8);\n  }\n\n  async PollGame() {\n    if (typeof this.state.game === 'undefined') return;\n    if ((+ new Date()) / 1000 > (+ this.state.lastEvent / 1000 + 10)) {\n      if (!this.state.pollingAsleep) {\n        console.log(\"SLEEPING\");\n        this.setState({ pollingAsleep: true })\n      }\n      return;\n    }\n    this.setState({ pollingAsleep: false });\n    this.setState({ home_input_submit_disabled: false });\n    const pollResponse = await this.getData(`poll/${this.state.game.id}/`);\n    const pollData = await pollResponse.json();\n    const lastUpdated = pollData.last_updated;\n    if (lastUpdated !== (+ this.state.game.last_updated)) {\n      const game = await this.getGame(this.state.game.id);\n      if (game.picks.length !== this.state.game.picks.length) {\n        this.setState({ seeingDuck: Math.random() > .6 });\n      }\n      this.setState({ game: game });\n      this.updateLastEvent();\n    }\n  }\n\n  changeHandler = (event) => {\n    let nam = event.target.name;\n    let val = event.target.value;\n    this.setState({ [nam]: val });\n  }\n\n  homeSubmitHandler = (event) => {\n    event.preventDefault();\n    const home_errors = this.state.home_errors;\n    let is_valid = true;\n    if (this.state.home_input_name.length < 1) {\n      home_errors.name = 'Name is required';\n      is_valid = false;\n    } else {\n      home_errors.name = '';\n    }\n    if (\n      this.state.home_input_join_or_create === 'Join'\n      && this.state.home_input_code.length !== 36) {\n      home_errors.code = '36 character code is required to join a game';\n      is_valid = false;\n    }\n    else {\n      home_errors.code = '';\n    }\n    if (![\"Join\", \"Create\"].includes(this.state.home_input_join_or_create)) {\n      home_errors.join_or_create = 'Choice of join or create is required';\n      is_valid = false;\n    }\n    else {\n      home_errors.join_or_create = '';\n    }\n    if (!is_valid) {\n      this.setState({ home_errors: home_errors });\n      console.log(\"nope\");\n      return\n    }\n    console.log(\"yep\");\n    this.setState({ home_input_submit_disabled: true });\n    console.log(this.state.home_input_join_or_create);\n    if (this.state.home_input_join_or_create === 'Create') {\n      this.createGame()\n        .catch(error => {\n          const home_errors = this.state.home_errors;\n          home_errors.submit = 'Cannot create game';\n          this.setState({ home_errors: home_errors });\n          this.setState({ home_input_submit_disabled: false });\n        });\n    } else {\n      this.joinGame()\n        .catch(error => {\n          const home_errors = this.state.home_errors;\n          home_errors.submit = 'Cannot join game' + (error.message === '400' ? ' make sure the host is in the lobby.' : '');\n          this.setState({ home_errors: home_errors });\n          this.setState({ home_input_submit_disabled: false });\n        });\n    }\n    return\n  }\n\n  async gameStateChangeClickHandler(is_in_lobby) {\n    const patchData = { player_id: this.state.player.id, is_in_lobby: is_in_lobby };\n    try {\n      const updatedGame = await this.patchGame(this.state.game.id, patchData);\n      this.setState({ game: updatedGame });\n      this.updateLastEvent();\n    } catch (error) {\n      console.log(\"COULD NOT UPDATE\");\n    }\n  }\n\n  async restartClickHandler() {\n    const patchData = { player_id: this.state.player.id, restart: true };\n    try {\n      const updatedGame = await this.patchGame(this.state.game.id, patchData);\n      this.setState({ game: updatedGame });\n      this.updateLastEvent();\n    } catch (error) {\n      console.log(\"COULD NOT RESTART\");\n    }\n  }\n\n  async cardPickHandler(card) {\n    if (this.state.game.next_position !== this.state.player.position) return\n    try {\n      this.setState({ seeingDuck: Math.random() > .6 });\n      const patchData = { player_id: this.state.player.id, card_index: card };\n      const updatedGame = await this.patchGame(this.state.game.id, patchData);\n      this.setState({ game: updatedGame });\n      this.updateLastEvent();\n    } catch (error) {\n      console.log(\"COULD NOT PICK\");\n    }\n  }\n\n  async pauseClickHandler() {\n    const patchData = { is_paused: !this.state.player.is_paused };\n    const updatedPlayer = await this.patchPlayer(this.state.player.id, patchData);\n    this.setState({ player: updatedPlayer });\n    this.updateLastEvent();\n  }\n\n  updateLastEvent() {\n    this.setState({ pollingAsleep: false, lastEvent: new Date() });\n  }\n\n  async wakeupClickHandler() {\n    this.updateLastEvent();\n  }\n\n  acceptCookies() {\n    setCookie('accepted', true, 60 * 24 * 1);\n    this.setState({ acceptedCookies: true });\n    console.log(this.state.acceptedCookies);\n  }\n\n  quitHandler() {\n    this.pauseClickHandler();\n    this.setState({ isQuitting: false });\n    deleteCookie('playerId', '/');\n    deleteCookie('gameId', '/');\n    deleteCookie('position', '/');\n    this.setState({ game: undefined });\n  }\n\n  quitClickHandler() {\n    this.setState({ isQuitting: true });\n  }\n\n  render() {\n\n    return (\n      <div className=\"App\">\n\n        <TermsModal \n            showTerms={this.state.showTerms}\n            hideTerms={() => this.setState({showTerms: false})}\n        />\n\n        <QuitModal\n          isQuitting={this.state.isQuitting}\n          cancelHandler={() => this.setState({ isQuitting: false })}\n          quitHandler={this.quitHandler.bind(this)}\n        />\n        <CookieModal acceptedCookies={this.state.acceptedCookies} acceptClickHandler={this.acceptCookies.bind(this)} />\n\n        {((typeof this.state.game === 'undefined') || (this.state.game.players.length === 0)) && <Home\n          prefix='home_input_'\n          errors={this.state.home_errors}\n          name={this.state.home_input_name}\n          code={this.state.home_input_code}\n          join_or_create={this.state.home_input_join_or_create}\n          changeHandler={this.changeHandler.bind(this)}\n          submitHandler={this.homeSubmitHandler.bind(this)}\n          submitDisabled={this.state.home_input_submit_disabled}\n          showTerms={() => this.setState({showTerms: true})}\n        />}\n\n\n        {\n          (typeof this.state.game !== 'undefined')\n          &&\n          (\n            this.state.game.is_in_lobby\n              ?\n              <Lobby\n                game={this.state.game}\n                player={this.state.player}\n                beginClickHandler={this.gameStateChangeClickHandler.bind(this, false)}\n                quitClickHandler={this.quitClickHandler.bind(this)}\n              />\n              :\n              <Game\n                game={this.state.game}\n                player={this.state.player}\n                lobbyClickHandler={this.gameStateChangeClickHandler.bind(this, true)}\n                pauseClickHandler={this.pauseClickHandler.bind(this)}\n                cardPickHandler={this.cardPickHandler.bind(this)}\n                restartClickHandler={this.restartClickHandler.bind(this)}\n                seeingDuck={this.state.seeingDuck}\n                quitClickHandler={this.quitClickHandler.bind(this)}\n              />\n          )\n        }\n\n        {\n          (this.state.pollingAsleep) && <Wakeup\n            isAsleep={this.state.pollingAsleep}\n            waitTime=\"5 minutes\"\n            wakeupClickHandler={this.wakeupClickHandler.bind(this)}\n          />\n        }\n\n      </div >\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}